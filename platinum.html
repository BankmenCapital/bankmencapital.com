<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bankmen Platinum</title>
  <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-base@0.9.27/lib/index.iife.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-wallets@0.19.37/lib/index.iife.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@solana/wallet-adapter-react-ui@0.9.39/lib/index.iife.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.79.0/lib/index.iife.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.3.4/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body { background: #0d0d17; color: #fff; font-family: 'Arial', sans-serif; }
    .dashboard { display: none; padding: 2rem; }
    .nft-gallery { display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1rem; }
    .nft-item { width: 120px; height: 120px; border: 2px solid #ffd700; border-radius: 8px; overflow: hidden; background: #111; display: flex; justify-content: center; align-items: center; }
    .locked { opacity: 0.3; }
  </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen">

  <h1 class="text-4xl font-bold mb-6">Bankmen Platinum</h1>
  
  <div id="wallet-section" class="flex flex-col items-center">
    <button id="connect-btn" class="px-6 py-3 bg-yellow-600 text-black font-bold rounded hover:bg-yellow-500 transition">Connect Wallet</button>
    <p id="status-msg" class="mt-4"></p>
  </div>

  <div id="dashboard" class="dashboard w-full max-w-4xl">
    <h2 class="text-2xl font-bold mb-4">Your NFTs</h2>
    <div id="nft-gallery" class="nft-gallery"></div>

    <h2 class="text-2xl font-bold mt-8 mb-4">Battle Pass - Season 1 (Coming Soon)</h2>
    <div class="grid grid-cols-4 gap-4">
      <div class="p-4 bg-gray-900 rounded locked">Level 1</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 2</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 3</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 4</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 5</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 6</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 7</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 8</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 9</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 10</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 11</div>
      <div class="p-4 bg-gray-900 rounded locked">Level 12</div>
    </div>
  </div>

<script>
  const workerUrl = "https://bankmen-verifier.bankmen-verifier.workers.dev"; // Your Worker URL

  const connectBtn = document.getElementById("connect-btn");
  const statusMsg = document.getElementById("status-msg");
  const dashboard = document.getElementById("dashboard");
  const nftGallery = document.getElementById("nft-gallery");

  async function connectWallet() {
    if (!window.solana) {
      statusMsg.textContent = "No Solana wallet detected. Install Phantom or Solflare.";
      return;
    }

    try {
      const resp = await window.solana.connect();
      const publicKey = resp.publicKey.toString();
      statusMsg.textContent = "Verifying NFT ownership...";
      
      const res = await fetch(`${workerUrl}?wallet=${publicKey}`);
      const data = await res.json();

      if (data.verified) {
        statusMsg.textContent = "Wallet verified!";
        document.getElementById("wallet-section").style.display = "none";
        dashboard.style.display = "block";

        // Fetch and display NFTs (placeholder for art)
        const heliusRes = await fetch(`${workerUrl}?wallet=${publicKey}`);
        const heliusData = await heliusRes.json();
        // This is a placeholder; you can replace with NFT images from metadata
        nftGallery.innerHTML = `<div class="nft-item">Bankmen NFT</div>`;
      } else {
        statusMsg.textContent = "No Bankmen NFTs found in this wallet.";
      }
    } catch (err) {
      console.error(err);
      statusMsg.textContent = "Error connecting wallet or verifying ownership.";
    }
  }

  connectBtn.addEventListener("click", connectWallet);
</script>

</body>
</html>
